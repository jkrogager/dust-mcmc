
# Dust-MCMC

MCMC sampling for metallicity determination of individual absorption components
using depletion strengths for each component as priors.


## Generate test data

A test dataset can be generated by the following script:

    python simulate_data.py


which takes as input either an input CSV file with the following three parameters:
[M/H], logNH, [Zn/Fe]. One row for each component to simulate (see [sim_input.1.csv](sim_input.1.csv) for an example).
From these three parameters, a set of metal column densities are generated following
the metallicity, HI column and depletion strength.

If no input file is given, a random set of components is simulated.
The number of components to simulate can be set by passing the option "-n":

    python simulate_data.py -n 4


for 4 components.


By default, 2 components are simulated with random parameters drawn from the default
ranges of metallicity, logN(H) and [Zn/Fe]. To check the parameter ranges, run:

    python simulate_data.py -h



This generated file can then be passed to the MCMC sampler.


## Running the MCMC sampling

The script `depletion_mcmc.py` runs the sampler for 5000 iterations with 100 walkers 
and discards the first 500 samples. These sampling parameters can be changed in the 
script using the -s option for number of steps/iterations, -n for the number of walkers, 
and -b for the number of 'burn-in' steps to discard.

    %] python depletion_mcmc.py datafile.csv

